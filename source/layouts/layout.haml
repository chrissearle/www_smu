!!! 5
%html{ :lang => 'en' }
  %head
    %meta{ :charset => 'utf-8' }
    %meta{ :'http-equiv' => 'X-UA-Compatible', :content => 'IE=edge;chrome=1' }
    %title= current_page.data.title || 'Chris Searle'
    - ogp_tags do|name, value|
      %meta{ :property => name, :content => value }
    %meta{ :name => 'viewport', :content => 'width=device-width, initial-scale=1.0' }
    %link{ :href => '/stylesheets/bootstrap.css', :rel => 'stylesheet', :media => 'screen' }
    %link{ :href => '/stylesheets/custom.css', :rel => 'stylesheet', :media => 'screen' }
    %link{ :href => '/stylesheets/syntax.css', :rel => 'stylesheet', :media => 'screen' }
    %link{ :href => '/javascripts/fancybox/source/jquery.fancybox.css?v=2.1.5', :rel => 'stylesheet', :media => 'screen' }
    %link{ :href => '/javascripts/fancybox/source/helpers/jquery.fancybox-buttons.css?v=1.0.5', :rel => 'stylesheet', :media => 'screen' }
    %link{ :href => '/javascripts/fancybox/source/helpers/jquery.fancybox-media.js?v=1.0.6', :rel => 'stylesheet', :media => 'screen' }

    %link{ :rel => 'shortcut icon', :href => '/favicon.ico' }
    %link{ :rel => 'alternate home', :type => 'application/rss+xml', :href => url_for('/feed.xml') }
  %body
    .navbar.navbar-fixed-top.navbar-inverse 
      .container
        %button.navbar-toggle{ :type => 'button', :data => { :toggle => 'collapse',  :target => '.navbar-responsive-collapse' } }
          %span.icon-bar
          %span.icon-bar
          %span.icon-bar

        %a.navbar-brand{ :href => '/' }
          %img.logo{ :src => '/logo.png', :alt => '' }
          Chris Searle

        .nav-collapse.collapse.navbar-responsive-collapse
          %ul.nav.navbar-nav
            %li
              %a{ :href => '/' }
                Home
            %li
              %a{ :href => '/series/list/' }
                Series
            %li
              %a{ :href => '/categories/photo/' }
                Photography
            %li
              %a{ :href => '/categories/rc/' }
                Radio Control
            %li
              %a{ :href => '/categories/3dp/' }
                3D Printing
            %li
              %a{ :href => '/tags/' }
                All Tags
            %li
              %a{ :href => '/articles/' }
                All Articles
          %ul.nav.navbar-nav.pull-right
            %li= link_to 'Cryptographic Keys', '/cryptographic_keys.html'
            %li
              %a{ :target => '_blank', :href => '//about.me/chrissearle/' }
                Other Sites

    .container
      .row
        .col-12.col-lg-9
          ~ yield
        .col-12.col-lg-3

          %form{ :action => '//www.google.com', :id => 'cse-search-box' }
            %div
              %input{ :type => 'hidden', :name => 'cx', :value => 'partner-pub-6208435820744910:5135878443' }
              %input{ :type => 'hidden', :name => 'ie', :size => 'UTF-8' }
              %input{ :type => 'text', :name => 'q', :size => '40' }
              %input{ :type => 'submit', :name => 'sa', :value => 'Search' }

          %script(src='//www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en')

          %h2
            Popular Tags

          .list-group
            - blog.tags.sort_by{|_,v| v.size}.reverse[0...8].each do |tag, articles|
              %a.list-group-item{ :href => tag_path(tag), :aria => { :label => "Posts tagged #{tag}" } }
                %span.badge= articles.size
                = tag

          .centered
            %script(src='/javascripts/left-thin-as.js')
            %script(src='//pagead2.googlesyndication.com/pagead/show_ads.js')

          %h2
            Recent Articles

          .list-group
            - blog.articles[0...10].each do |article|
              %a.list-group-item{ :href => url_for(article) }
                = article.title

          %h2
            By Year

          .list-group
            - blog.articles.group_by {|a| a.date.year }.each do |year, articles|
              %a.list-group-item{ :href => blog_year_path(year), :aria => { :label => "Posts from #{year}" } }
                %span.badge= articles.size
                = year

    %footer.footer
      %script{ :async => true, :src => '//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js' }
      %ins{ :class => 'adsbygoogle', :style => 'display:inline-block;width:728px;height:90px', :data => { :'ad-client' => 'ca-pub-6208435820744910', :'ad-slot' => '5379170846' } }
      %script
        :plain
          (adsbygoogle = window.adsbygoogle || []).push({});

    %script(src='//code.jquery.com/jquery.js')
    %script(src='/javascripts/bootstrap.js')
    %script(src='/javascripts/ga.js')
    %script(src='/javascripts/fancybox/source/jquery.fancybox.pack.js?v=2.1.5')
    %script(src='/javascripts/fancybox/source/helpers/jquery.fancybox-buttons.js?v=1.0.5')
    %script(src='/javascripts/fancybox/source/helpers/jquery.fancybox-media.js?v=1.0.6')
    %script(src='/javascripts/fancybox/source/helpers/jquery.fancybox-thumbs.js?v=1.0.7')
    %script(src='/javascripts/fancybox.js')
